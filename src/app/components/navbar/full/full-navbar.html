<nst-mini-navbar></nst-mini-navbar>
<div class="nst-navbar">
  <div class="nst-content _tr">
    <div class="content">
      <div class="navbar-top _df" data-ng-switch="ctlFullNavbar.page.state.current.group">
        <div class="title-bar _difh _fw" data-ng-switch-when="COMPOSE">
          <div class="logo-bar _df">
            <div data-ng-if="!ctlFullNavbar.hasPlace()" class="icon icon-compose"></div>
            <img data-ng-if="ctlFullNavbar.hasPlace()" class="account-initials-64 _tr" ng-src="{{ctlFullNavbar.getPlacePicture()}}"/>
          </div>
          <div class="name _fw _difv _jcc">
            <a class="_df _tr" data-ng-if="ctlFullNavbar.hasPlace()">{{ctlFullNavbar.getPlaceName()}}</a>
            <a class="_df _tr" data-ng-if="!ctlFullNavbar.hasPlace()">Compose</a>
            <span class="nst-mood-storm _df _tr" data-ng-if="ctlFullNavbar.hasPlace()">{{ctlFullNavbar.getPlaceId()}}@nested.me</span>
          </div>
        </div>

        <div class="title-bar _difh _fw" data-ng-switch-default>
          <div class="logo-bar _df">
            <div data-ng-if="!ctlFullNavbar.hasPlace()" class="icon icon-nav icon-all-place"></div>
            <img data-ng-if="ctlFullNavbar.hasPlace()" class="account-initials-64 _tr" ng-src="{{ctlFullNavbar.getPlacePicture()}}"/>
          </div>
          <div class="name _fw _difv _jcc">
            <a class="_df _tr">{{ctlFullNavbar.getPlaceName()}}</a>
            <span class="nst-mood-storm _df _tr" ng-if="ctlFullNavbar.hasPlace()">{{ctlFullNavbar.getPlaceId()}}@nested.me</span>
          </div>
        </div>
      </div>

      <div class="navbar-bottom" data-ng-if="!ctlFullNavbar.controls">
        <div id="inputsearch" class="has-feedback _fw">
          <input class="form-control" placeholder="Search in {{ctlFullNavbar.hasPlace() ? ctlFullNavbar.getPlaceName() : 'all places'}}" type="text" ng-keyup="ctlFullNavbar.search(ctlFullNavbar.searchQuery, $event);" ng-model="ctlFullNavbar.searchQuery" focus-me/>
          <i ng-click="ctlFullNavbar.srch('inputsearch');"
             class="_pa _left icon-close-search form-control-feedback"></i>
          <!--<div class="search-part1">
          </div>

          <div class="line-f _fw"></div>

          <div class="search-part2">
          </div>-->
        </div>
        <div class="_difh _fh _fw">
          <div class="menu-links-search _df">
            <div ng-click="ctlFullNavbar.srch('inputsearch');" class="icon cursor-pointer icon-search-rotated _dib"></div>
          </div>

          <a ng-href="{{ctlFullNavbar.getMessagesUrl()}}" class="menu-links-butn _df li-hover {{ctlFullNavbar.page.isMessages ? 'active' : ''}}">
            Messages
          </a>
          <a ng-href="{{ctlFullNavbar.getActivityUrl()}}" class="menu-links-butn _df li-hover {{ctlFullNavbar.page.isActivity ? 'active' : ''}}">
            Activity
          </a>
          <a ng-href="{{ctlFullNavbar.getSettingsUrl()}}" ng-if="ctlFullNavbar.hasPlace()" class="menu-links-butn _df li-hover {{ctlFullNavbar.page.isPlaceSettings ? 'active' : ''}}">
            Settings
          </a>
      </div>
      </div>

      <div class="navbar-bottom" data-ng-if="ctlFullNavbar.controls">
        <div class="_df _fw" data-ng-repeat="control in ctlFullNavbar.controls.left" data-ng-switch="control.type">
          <a data-ng-switch-when="button" class="butn-white-nav nst-mood-storm"
             href="{{control.url}}" data-ng-click="control.fn()">
             <span class="_dib _vat" ng-if="control.caption">{{control.caption}}</span>
             <div class="_dib {{control.data.icon}}" ng-if="control.data.icon"></div>
           </a>
          <a data-ng-switch-when="button-back" class="butn-white-nav nst-mood-storm"
             href="{{ctlFullNavbar.page.state.previous.url}}" data-ng-click="control.fn()">
             <span class="_dib _vat" ng-if="control.caption">{{control.caption}}</span>
             <div class="_dib {{control.data.icon}}" ng-if="control.data.icon"></div>
           </a>
          <label data-ng-switch-when="button-label" class="butn-white-nav nst-mood-storm"
                 data-ng-click="control.fn()" for="{{control.data.id}}">
                 <span class="_dib _vat" ng-if="control.caption">{{control.caption}}</span>
                 <div class="_dib {{control.data.icon}}" ng-if="control.data.icon"></div>
          </label>
          <a data-ng-switch-when="button-success" class="butn-green-nav"
             href="{{control.url}}" data-ng-click="control.fn()">
             <span class="_dib _vat" ng-if="control.caption">{{control.caption}}</span>
             <div class="_dib {{control.data.icon}}" ng-if="control.data.icon"></div>
           </a>
        </div>

        <div class="_df _fn" data-ng-repeat="control in ctlFullNavbar.controls.right" data-ng-switch="control.type">
          <a data-ng-switch-when="button" class="_fr butn-white-nav nst-mood-storm"
             href="{{control.url}}" data-ng-click="control.fn()">
             <span class="_dib _vat" ng-if="control.caption">{{control.caption}}</span>
             <div class="_dib {{control.data.icon}}" ng-if="control.data.icon"></div>
           </a>
          <a data-ng-switch-when="button-back" class="butn-white-nav nst-mood-storm"
             href="{{ctlFullNavbar.page.state.previous.url}}" data-ng-click="control.fn()">
             <span class="_dib _vat" ng-if="control.caption">{{control.caption}}</span>
             <div class="_dib {{control.data.icon}}" ng-if="control.data.icon"></div>
           </a>
          <label data-ng-switch-when="button-label" class="_fr butn-white-nav nst-mood-storm"
                 data-ng-click="control.fn()" for="{{control.data.id}}">
                 <span class="_dib _vat" ng-if="control.caption">{{control.caption}}</span>
                 <div class="_dib {{control.data.icon}}" ng-if="control.data.icon"></div>
          </label>
          <a data-ng-switch-when="button-success" class="_fr butn-green-nav"
             href="{{control.url}}" data-ng-click="control.fn()">
             <span class="_dib _vat" ng-if="control.caption">{{control.caption}}</span>
             <div class="_dib {{control.data.icon}}" ng-if="control.data.icon"></div>
           </a>
        </div>
      </div>
    </div>
    <div class="content-plus"></div>
  </div>
</div>
