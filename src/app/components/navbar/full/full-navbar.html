<!-- narrow fixed navbar for places -->
<div class="nst-navbar-fixed _tr" style="display:none;" ng-if="!ctlFullNavbar.isUnreadMode && !ctlFullNavbar.isSearchMode &&
  !ctlFullNavbar.isConvMode && !ctlFullNavbar.isFeed && !ctlFullNavbar.isSentMode && !ctlFullNavbar.isBookmarkMode" affixer-filter
  top="48" hide-this="true" fixed-navbar="true" ng-click="ctlFullNavbar.scrollTopBody()">
  <div class="nst-navbar-fixed-container">
    <div class="place-pic">
      <img ng-src="{{ctlFullNavbar.place | picture:'x32'}}" width="24" height="24" />
    </div>
    <cite>{{ctlFullNavbar.title}}</cite>
  </div>
</div>

<!-- full navbar for places -->
<div ng-if="!ctlFullNavbar.isUnreadMode && !ctlFullNavbar.isSearchMode && !ctlFullNavbar.isConvMode && !ctlFullNavbar.isFeed && !ctlFullNavbar.isSentMode && !ctlFullNavbar.isBookmarkMode"
  class="nst-navbar _tr">
  <div class="nst-navbar-container">

    <div class="place-picture">
      <img ng-src="{{ctlFullNavbar.place | picture:'x64'}}" width="56" height="56" />
    </div>
    <div class="place-context">
      <cite class="_txe">{{ctlFullNavbar.title}}</cite>
      <div class="navigation">
        <nav>
          <a ng-href="{{ctlFullNavbar.getMessagesUrl()}}" ng-click="ctlFullNavbar.rollUpward('message');  _track('navbar', 'view posts');"
            class="nav-item-butn _df li-hover" active-group="posts">
            <svg class="icon-filter _df _16svg">
              <use xlink:href="/assets/icons/nst-icn16.svg#messages"></use>
            </svg>
            <translate>Messages</translate>
          </a>
          <a ng-href="{{ctlFullNavbar.getFilesUrl()}}" ng-click="ctlFullNavbar.rollUpward('files');  _track('navbar', 'view files');"
            ng-if="!ctlFullNavbar.isBookmarkMode && ctlFullNavbar.hasPlace()" class="nav-item-butn _df li-hover" active-group="file">
            <svg class="icon-filter _df _16svg">
              <use xlink:href="/assets/icons/nst-icn16.svg#file"></use>
            </svg>
            <translate>Files</translate>
          </a>
        </nav>
      </div>
    </div>
    <div class="place-detail">
      <!-- Privacy -->
      <svg class="_16svg" ng-show="ctlFullNavbar.isGrandPlace">
        <use xlink:href="/assets/icons/nst-icn16.svg#places"></use>
      </svg>
      <svg class="_16svg" ng-show="!ctlFullNavbar.isGrandPlace && !ctlFullNavbar.place.privacy.locked">
        <use xlink:href="/assets/icons/nst-icn16.svg#window"></use>
      </svg>
      <svg class="_16svg" ng-show="!ctlFullNavbar.isGrandPlace && ctlFullNavbar.place.privacy.locked">
        <use xlink:href="/assets/icons/nst-icn16.svg#brick-wall"></use>
      </svg>
      <!-- Privacy -->
      <svg class="_16svg" ng-show="ctlFullNavbar.hasPlace() && ctlFullNavbar.place.privacy.receptive == 'off' &&  ctlFullNavbar.place.policy.add_post == 'creators'">
        <use xlink:href="/assets/icons/nst-icn16.svg#manager"></use>
      </svg>
      <svg class="_16svg" ng-show="ctlFullNavbar.hasPlace() && ctlFullNavbar.place.privacy.receptive == 'off' && ctlFullNavbar.place.policy.add_post == 'everyone'">
        <use xlink:href="/assets/icons/nst-icn16.svg#manager-member"></use>
      </svg>
      <svg class="_16svg" ng-show="ctlFullNavbar.hasPlace() && ctlFullNavbar.place.privacy.receptive == 'internal'">
        <use xlink:href="/assets/icons/nst-icn16.svg#team"></use>
      </svg>
      <svg class="_16svg" ng-show="ctlFullNavbar.hasPlace() && ctlFullNavbar.place.privacy.receptive == 'external'">
        <use xlink:href="/assets/icons/nst-icn16.svg#earth"></use>
      </svg>
      <!-- Place ID representer-->
      <span class="_ltr _txe">{{ctlFullNavbar.getPlaceId()}}
      <!-- <span ng-show="ctlFullNavbar.hasPlace() && ctlFullNavbar.place.privacy.receptive == 'external'">@{{ ctlFullNavbar.domain }}</span>      -->
      </span>
      <!-- accessories -->
      <script type="text/ng-template" id="notification-uib-tooltip.html">
        <translate ng-if="!ctlFullNavbar.notificationStatus">Turn notification on</translate>
        <translate ng-if="ctlFullNavbar.notificationStatus">Turn notification off</translate>
      </script>
      <div class="cursor-pointer _df _fn" data-uib-tooltip-template="'notification-uib-tooltip.html'" data-tooltip-append-to-body="false"
        data-tooltip-placement="{{ $root._direction == 'rtl' ? 'left-top' : 'right-top'}} auto">
        <svg class="svg-hover _24svg" ng-click="ctlFullNavbar.toggleNotification()" ng-show="!ctlFullNavbar.notificationStatus">
          <use xlink:href="/assets/icons/nst-icn24.svg#bell-muted"></use>
        </svg>
        <svg class="_24svg fill-sense-wire" ng-click="ctlFullNavbar.toggleNotification()" ng-show="ctlFullNavbar.notificationStatus">
          <use xlink:href="/assets/icons/nst-icn24.svg#bell-ringed"></use>
        </svg>
      </div>
      <div class="cursor-pointer _df _fn" data-popover-class="white-pop navbar-popover" data-popover-append-to-body="false" uib-popover-template="'app/components/navbar/full/navbar-setting-popover.html'"
        data-popover-popup-close-delay="100" data-popover-trigger="focus" data-popover-placement="auto bottom-right" data-uib-tooltip="More options"
        translate-attrs="data-uib-tooltip" data-tooltip-append-to-body="false" data-tooltip-placement="{{ $root._direction == 'rtl' ? 'left-top' : 'right-top'}} auto"
        id="navbar-popover">
        <svg class="_24svg fill-new-hurricane more-navbar-settings-icon">
          <use xlink:href="/assets/icons/nst-icn24.svg#more"></use>
        </svg>
      </div>
    </div>
  </div>
</div>

<!-- navbar for pages like feed and bookmarks -->
<div class="nst-navbar-fixed _tr feed-nav" ng-if="ctlFullNavbar.isConvMode || ctlFullNavbar.isSearchMode ||
            ctlFullNavbar.isFeed || ctlFullNavbar.isSentMode || ctlFullNavbar.isBookmarkMode">
  <div class="nst-navbar-fixed-container ng-class:{'conv-nav' : ctlFullNavbar.isConvMode, 'search-nav' : ctlFullNavbar.isSearchMode}"
    ng-click="ctlFullNavbar.scrollTopBody()">
    <div class="place-pic" ng-if="ctlFullNavbar.isConvMode">
      <img initial-avatar="{{ctlFullNavbar.user.id}}" name="{{ctlFullNavbar.user.fullName}}" picture="{{ctlFullNavbar.user | avatar:'x32'}}"
        data-width="24" data-height="24" data-radius="4" data-word-count="2" data-font-size="12" ng-if="ctlFullNavbar.user"
      />
    </div>
    <div class="place-pic" ng-if="!ctlFullNavbar.isSearchMode">
      <svg class="icon-filter _df _16svg" ng-if="ctlFullNavbar.isFeed">
        <use xlink:href="/assets/icons/nst-icn16.svg#messages"></use>
      </svg>
      <svg class="icon-filter _df _16svg" ng-if="ctlFullNavbar.isBookmarkMode">
        <use xlink:href="/assets/icons/nst-icn16.svg#bookmarked-message"></use>
      </svg>
      <svg class="icon-filter _df _16svg" ng-if="ctlFullNavbar.isSentMode">
        <use xlink:href="/assets/icons/nst-icn16.svg#sent-message"></use>
      </svg>
      <svg class="icon-filter _df _16svg" ng-if="ctlFullNavbar.isConvMode">
        <use xlink:href="/assets/icons/nst-icn16.svg#exchange"></use>
      </svg>
    </div>
    <cite ng-if="!ctlFullNavbar.isConvMode">{{ctlFullNavbar.title}}</cite>
    <div class="place-pic" ng-if="ctlFullNavbar.isConvMode">
      <img initial-avatar="{{ctlFullNavbar.account.id}}" name="{{ctlFullNavbar.account.fullName}}" picture="{{ctlFullNavbar.account | avatar:'x32'}}"
        data-width="24" data-height="24" data-radius="4" data-word-count="2" data-font-size="12" ng-if="ctlFullNavbar.account"
      />
    </div>
    <cite ng-if="ctlFullNavbar.isSearchMode"><translate>Search Results</translate></cite>
    <cite ng-if="ctlFullNavbar.isConvMode"><translate>Conversations with</translate>&nbsp;{{ctlFullNavbar.account.fullName}}</cite>
  </div>
</div>

<scroll-roller roll-upward="ctlFullNavbar.rollToTop"></scroll-roller>
