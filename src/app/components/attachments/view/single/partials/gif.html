<div ng-if="attachment.viewUrl" class="attachment-image-show ng-class:{'loaded' : attachment.loaded}" style="width:{{attachment.newW + 'px'}};height:{{attachment.newH + 'px'}};transform:scale({{scaleVal}},{{scaleVal}})">
  <video width="{{attachment.newW}}" height="{{attachment.newH}}" autoplay loop preview-on-load>
    <source src="{{trustSrc(attachment.viewUrl)}}" type="video/mp4">
    Your browser does not support HTML5 video.
  </video>
  <div class="prev" style="background-image:url('{{attachment.preview}}');" ng-hide="attachment.loaded"></div>
</div>

<div class="nst-loading white absolute" ng-if="!attachment.loaded"></div>