<div class="sidebar _df">
  <div class="sidebar-wrapper">
    <div class="side-top">
      <div class="nested-logo">
        <a href="#/">
          <div id="Logo"></div>
        </a>
      </div>
      <div class="compose"><a class="butn-green onlyExpand _tr" id="compose" href="{{ctlSidebar.urls.compose}}"><div class="icon icon-side icon-compose _df"></div><div class="onlyExpand _df">Compose</div> </a></div>
    </div>
    <div class="side-place-wrapper _fw" ng-scrollbars>
      <div class="side-menu">
        <div class="side-menu-item">
          <a href="{{ctlSidebar.urls.unfiltered}}">
            <div class="icon icon-solid icon-side icon-all-place _df"></div>
            <span class="item _df _fw fade-animation" ng-show="!ctlSidebar.collapsed">All Places</span></a></div>
        <div class="side-menu-item" ng-if="false">
          <a href="{{ctlSidebar.urls.bookmarks}}">
            <div class="icon icon-solid icon-side icon-bookmarks"></div>
            <span class="item _fw" ng-show="!ctlSidebar.collapsed">Bookmarks</span></a></div>
        <div class="side-menu-item">
          <a href="{{ctlSidebar.urls.sent}}">
            <div class="icon icon-solid icon-side icon-sent"></div>
            <span class="item _fw" ng-show="!ctlSidebar.collapsed">Sent</span></a></div>
      </div>
      <ul class="side-place" data-ng-if="ctlSidebar.invitations.length > 0">
        <li class="side-place-item" data-ng-repeat="invitaion in ctlSidebar.invitations">
          <div class="side-place-item-inner active">
            <a href="javascript:void(0);" ng-click="ctlSidebar.invitation.showModal(invitaion.id)" class="_fw">
              <div class="side-place-item-image">
                <img class="account-initials-40" ng-src="{{invitaion.place.avatar}}"/>
              </div>

              <span data-ellipsis="invitaion.place.name" class="invitation-name onlyExpand nst-mood-pending">{{invitaion.place.name}}</span>
              <span class="_fn nst-mood-pending onlyExpand">(Pending Invitation)</span>
            </a>
          </div>
        </li>
      </ul>
      <ul class="side-place">
        <li class="side-place-item" data-ng-repeat="place in ctlSidebar.places"
            data-ng-include="'app/components/sidebar/place.html'" onload="place = place"></li>

        <!--TODO: Make ng-scrollbars to be updated after content is loaded and then uncomment below-->
        <!--<li class="side-place-item" data-ng-if="ctlSidebar.urls.placeAdd">-->
          <!--<div class="side-place-item-inner">-->
            <!--<a href="{{ctlSidebar.urls.placeAdd}}" class="_fw">-->
              <!--<div class="side-place-item-image">-->
                <!--<img class="account-initials-40" style="border-color: rgba(0, 0, 0, 0); background-color:rgba(0,0,0,0.05); background-image: url('/assets/icons/actionbuttons_place.svg'); background-position: 0 -76px; background-size: cover;"/>-->
              <!--</div>-->
              <!--<span class="_fw" data-ellipsis="'Create Grand Place'" data-ng-show="!ctlSidebar.collapsed">Create Grand Place</span>-->
            <!--</a>-->
          <!--</div>-->
        <!--</li>-->
      </ul>
      <a href="{{ctlSidebar.urls.placeAdd}}">
      <div class="create-place _fw">
        <div>
          <span ng-if="!ctlSidebar.collapsed">+ Create New Grand Place</span>
          <span ng-if="ctlSidebar.collapsed">+</span>
        </div>
      </div>
      </a>
    </div>
    <div class="side-profile">
      <a class="_fw" ng-show="profileMenu" href="#/profile">
        <div class="_difh _fw">
          <li class="profile-menu-edit-profile _df _fn"></li>
          <li class="_df nst-mood-solid a-hover _fw fade-animation" ng-show="!ctlSidebar.collapsed">
            <span class="nst-mood-solid _difh _fw">Edit My profile</span>
          </li>
        </div>
      </a>
      <a class="_fw" ng-show="profileMenu" href="#/signout">
        <div class="_difh _fw">
          <li class="profile-menu-signout _df _fn"></li>
          <li class="_df a-hover fade-animation _fw" ng-show="!ctlSidebar.collapsed">
            <span class="nst-mood-solid _difh _fw">Sign out</span>
          </li>
        </div>
      </a>
      <a class="_fw">
        <div class="_difh _fw" ng-click="profileMenu =! profileMenu">
          <img class="account-initials-32"
               initials="ctlSidebar.user.name" data-url="ctlSidebar.user.avatar"
               data-width="size" data-height="size" data-radius="20" data-word-count="2" data-font-size="16"/>
          <div class="_fw _df fade-animation" ng-show="!ctlSidebar.collapsed">
            <span>{{ctlSidebar.user.name}}<br><span class="nst-mood-storm sm">@{{ctlSidebar.user.id}}</span> </span>
          </div>
          <div class="_df _fn fade-animation" ng-show="!ctlSidebar.collapsed">
            <div class="icon icon-solid icon-more"></div>
          </div>
        </div>
      </a>
      <a class="_fw">
        <div class="_df _fn _fw _jcc" ng-click="ctlSidebar.collapsed =! ctlSidebar.collapsed">
          <div ng-class="{'nst-arrow-rotated-90' : !ctlSidebar.collapsed,'nst-arrow-rotated-270' : ctlSidebar.collapsed}" class="nst-arrow-rotated-90"></div>
        </div>
        </a>
    </div>
  </div>
  <div class="sidebar-border"></div>
</div>
