<div data-ng-init="mimeSpl = attachment.mimeType.split('/')" data-ng-switch="mimeSpl[0]">

  <div>
    <div class="_pa image-box-preview _fh">
      <div class="image-preview _df _fh">
        <!--image/*-->
        <img data-ng-switch-when="image" class="nst-preview-pic-mode" src="{{attachment.download.url}}"/>

        <!--audio/*-->
        <audio class="_fw" data-ng-switch-when="audio" preload="none" controls>
          <source src="{{attachment.download.url}}" type="{{attachment.mimeType}}">
          <p>Your browser does not support the audio element.</p>
        </audio>
        <!--video/*-->
        <videogular class="_fw" data-ng-switch-when="video" data-ng-init="vg = [{}]; vg[0]['src'] = attachment.download.url; vg[0]['type'] = attachment.mimeType;">
          <vg-media vg-src="vg"></vg-media>

          <vg-controls vg-autohide="true" vg-autohide-time="3000">
            <vg-play-pause-button></vg-play-pause-button>
            <vg-time-display>{{ currentTime | date:'mm:ss':'+0000' }}</vg-time-display>
            <vg-scrub-bar>
              <vg-scrub-bar-current-time></vg-scrub-bar-current-time>
            </vg-scrub-bar>
            <vg-time-display>{{ timeLeft | date:'mm:ss':'+0000' }}</vg-time-display>
            <vg-time-display>{{ totalTime | date:'mm:ss':'+0000' }}</vg-time-display>
            <vg-volume>
              <vg-mute-button></vg-mute-button>
              <vg-volume-bar></vg-volume-bar>
            </vg-volume>
            <vg-playback-button></vg-playback-button>
            <vg-fullscreen-button></vg-fullscreen-button>
          </vg-controls>
        </videogular>

        <!--application/*-->
        <div class="large-viewe-attach" data-ng-switch-when="application" data-ng-switch="mimeSpl[1]">

          <div class="_tac _fw _dibp title-att nst-mood-lively nst-font-xlarge">PDF</div>
          <!--application/pdf-->
          <pdf-viewer data-ng-switch="pdf" url="attachment.download.url" scale="1" show-toolbar="true"></pdf-viewer>

          <!--application/*-->
          <iframe class="_fw  large-viewe-attach" data-ng-switch-default src="{{attachment.download.url}}"></iframe>
          <div class="_tac _fw _dibp title-att nst-mood-lively nst-font-xlarge">FILE</div>
        </div>

        <!--*/*-->
        <iframe class="att-exp-" data-ng-switch-default src="{{attachment.download.url}}"></iframe>
      </div>
      <div class="_fw _dif nst-preview-footer">
        <div class="_fw">
          <p class="nst-font-large filename-p">{{attachment.filename}}</p><br>
          <p class="nst-font-small nst-mood-storm">{{attachment.size | bytes:0}}</p>
        </div>
        <div class="_df nst-nav-btn-breeze"><a href="{{attachment.download.url}}" class="nst-mood-storm">Download</a></div>

      </div>
    </div>
  </div>
</div>
