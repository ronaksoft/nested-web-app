<div>
  <div>
    <nested-navbar></nested-navbar>
  </div>

  <div id="container" class="_bggray">
    <div class="side">
      <div class="compose _bgwhite _df _fw">
      </div>
    </div>
    <div class="nst-content">
      <div class="subnavitems _bgwhite _difc">
      <ul class="nav-width-ul-compose">
        <li class="modal-buttons">
          <div class="cursor-pointer nst-mood-storm btn-white-nav _jcc _df btn-white-back" href="javascript:void(0);" onclick="window.history.back();">Back</div>
        </li>
      </ul>
      <li data-ng-repeat="(key, action) in place_option.actions" class="_difc"  style="width: 150px" data-ng-switch="!!action.url">
        <a data-ng-switch-when="true" href="{{action.url}}" class="place-option-anchor _difc" ng-click="action.fn()">{{action.name}}<span class="option-{{key}}-icon _df"></span></a>
        <a data-ng-switch-when="false" href="javascript:void(0);" class="place-option-anchor _difc" ng-click="action.fn()">{{action.name}}<span class="option-{{key}}-icon _df"></span></a>
      </li>
      </div>
      <div id="place-option-body" class="_bgwhite">
        <div id="place-option-hld _fh">
          <div class="room-name">
            <label for="logo" class="_di">
              <img data-ng-if="place.picture.org.uid" class="account-initials-64 room-pic" src="{{place.picture.x64.url}}"/>
              <div data-ng-if="!place.picture.org.uid" class="account-initials-64 _dib room-pic">{{place.name | initials:2}}</div>
            </label>
            <input id="logo" data-ng-disabled="!place.haveAccess('C')" type="file" name="logo" accept="image/*" onchange="angular.element(this).scope().place_option.imgToUri(event)"/>

            <div class="_dib room-pic">
              <h5 data-ng-if="place.haveAccess('C')" editable-text="place.name" onbeforesave="place_option.updatePlace('place_name', $data)">{{place.name || 'empty'}}</h5>
              <h5 data-ng-if="!place.haveAccess('C')">{{place.name || 'empty'}}</h5>

              <h5 class="nst-mood-storm">{{place.id + '@nested.me'}}</h5>
              <h5 data-ng-if="place.haveAccess('C')" class="nst-mood-storm" editable-text="place.description" onbeforesave="place_option.updatePlace('place_desc', $data)">{{place.description || 'empty'}}</h5>
              <h5 data-ng-if="!place.haveAccess('C')">{{place.description || 'empty'}}</h5>
            </div>
          </div> <!--/Room name-->
          <div class="options">
            <div class="nst-options col-xs-12 col-lg-6">
              <h5 class="tittle-option">Options For Me</h5>
              <hr>
              <div class="_difc _fw optionrow">
                <div class="_df"><label for="sw-notification"><i class="nst-place-icon-notif _df"></i></label></div>
                <div class="_df _fw"><label for="sw-notification"><h5>Notifictions</h5></label></div>
                <div class="_df switch">
                  <input type="checkbox" id="sw-notification" class="inpsw" name="notification" data-ng-model="place.privacy.notification" onchange="angular.element(this).scope().place_option.updatePrivacy(event)"/>
                  <label class="on active" for="sw-notification" data-ng-click="notification && $event.preventDefault();"><div class="labtxt _fw">ON</div></label>
                  <label class="noton" for="sw-notification" data-ng-click="!notification && $event.preventDefault();"><div class="labtxt _fw">OFF</div></label>
                </div>
              </div>
              <div class="nst-description _df _fw">
                <p>People who you add to this place, will be added automatically in root place. if you want to add people just to this place, <a class="nst-mood-cheerful">invite them as a member</a>.</p>
              </div>
              <div class="_difc _fw optionrow">
                <div class="_df"><label for="sw-digest"><i class="nst-place-icon-shown _df"></i></label></div>
                <div class="_df _fw"><label for="sw-digest"><h5>Show in Digest</h5></label></div>
                <div class="_df switch">
                    <input type="checkbox" id="sw-digest" class="inpsw" name="digest" data-ng-model="digest" onchange="angular.element(this).scope().place_option.updatePrivacy(event)"/>
                    <label class="on active" for="sw-digest" data-ng-click="digest && $event.preventDefault();"><div class="labtxt _fw">ON</div></label>
                    <label class="noton" for="sw-digest" data-ng-click="!digest && $event.preventDefault();"><div class="labtxt _fw">OFF</div></label>
                </div>
              </div>
            </div> <!--/nst-option-->

            <div class="nst-place-privacy col-xs-12 col-lg-6">
              <h5 class="tittle-option">Place Privacy</h5>
              <hr>

              <div class="_difc _fw optionrow">
                <div class="_df"><label for="sw-locked"><i class="nst-place-icon-lock _df"></i></label></div>
                <div class="_df _fw"><label for="sw-locked"><h5>Lock</h5></label></div>

                <div class="_df switch">
                  <input type="checkbox" id="sw-locked" data-ng-disabled="!place.haveAccess('C')" class="inpsw" name="locked" data-ng-model="place.privacy.locked" onchange="return angular.element(this).scope().place_option.showLockModal(event)"/>
                  <label for="sw-locked" data-ng-click="place.privacy.locked && $event.preventDefault();"><div class="labtxt _fw">ON</div></label>
                  <label for="sw-locked" data-ng-click="!place.privacy.locked && $event.preventDefault();"><div class="labtxt _fw">OFF</div></label>
                </div>
              </div>
              <div class="nst-description _df _fw">
                <p>Parent members Can't view Inside The Place.<a class="nst-mood-cheerful">Learn more</a></p>
              </div>

              <div class="_difc _fw optionrow">
                <div class="_df"><label for="sw-receptive"><i class="nst-place-icon-print _df"></i></label></div>
                <div class="_df _fw"><label for="sw-receptive"><h5>Receptive</h5></label></div>
                <div class="_df switch">
                  <input type="checkbox" data-ng-disabled="!place.haveAccess('C')" id="sw-receptive" class="inpsw" name="receptive" data-ng-model="place.privacy.receptive" onchange="angular.element(this).scope().place_option.updatePrivacy(event)"/>
                  <label for="sw-receptive" data-ng-click="place.privacy.receptive && $event.preventDefault();"><div class="labtxt _fw">ON</div></label>
                  <label for="sw-receptive" data-ng-click="!place.privacy.receptive && $event.preventDefault();"><div class="labtxt _fw">OFF</div></label>
                </div>
              </div>
              <div class="nst-description _df _fw">
                <p>Only members Can Write Posts. <a class="nst-mood-cheerful">Learn more</a>.</p>
              </div>

              <div class="_difc _fw optionrow">
                <div class="_df"><label for="sw-search"><i class="nst-place-icon-search _df"></i></label></div>
                <div class="_df _fw"><label for="sw-search"><h5>Search</h5></label></div>
                <div class="_df switch">
                  <input type="checkbox" data-ng-disabled="!place.privacy.receptive || !place.haveAccess('C') " id="sw-search" class="inpsw" name="search" data-ng-model="place.privacy.search" onchange="angular.element(this).scope().place_option.updatePrivacy(event)"/>
                  <label for="sw-search" data-ng-click="place.privacy.search && $event.preventDefault();"><div class="labtxt _fw">ON</div></label>
                  <label for="sw-search" data-ng-click="!place.privacy.search && $event.preventDefault();"><div class="labtxt _fw">OFF</div></label>
                </div>
              </div>
              <div class="nst-description _df _fw">
                <p>Disabled until "Receptive" off <a class="nst-mood-cheerful">Learn more</a>.</p>
              </div>

              <div class="_difc _fw optionrow">
                <div class="_df"><label for="sw-email"><i class="nst-place-icon-email _df"></i></label></div>
                <div class="_df _fw"><label for="sw-email"><h5>Email</h5></label></div>
                <div class="_df switch">
                  <input type="checkbox" data-ng-disabled="!place.privacy.receptive || !place.haveAccess('C')" id="sw-email" class="inpsw" name="email" data-ng-model="place.privacy.email" onchange="angular.element(this).scope().place_option.updatePrivacy(event)"/>
                  <label for="sw-email" data-ng-click="place.privacy.email && $event.preventDefault();"><div class="labtxt _fw">ON</div></label>
                  <label for="sw-email" data-ng-click="!place.privacy.email && $event.preventDefault();"><div class="labtxt _fw">OFF</div></label>
                </div>
              </div>
              <div class="nst-description _df _fw">
                <p>Disabled until "Receptive" off. <a class="nst-mood-cheerful">Learn more</a>.</p>
              </div>
            </div> <!-- /nst-place-privacy-->
          </div>

          <div class="nst-teammates _dib">
            <h5 class="tittle-option _di">Teammates</h5>
            <div data-ng-if="place.haveAccess('AM')" class="_di  _fr" data-ng-click="place_option.showAddModal('teammate')">
              <span class="nst-mood-simple _dib _vat">Add Teammate</span>
              <div class="add-icon _dib"></div>
            </div>
            <hr>
            <div data-ng-if="place.haveAccess('SM')" class="col-lg-4 col-xs-6 user" data-ng-repeat="member in place.members.creators.users" data-ng-include="'app/places/option/member.html'" data-ng-init="role = 'creator'"></div>
            <div data-ng-if="place.haveAccess('SM')" class="col-lg-4 col-xs-6 user" data-ng-repeat="member in place.members.keyHolders.users" data-ng-include="'app/places/option/member.html'" data-ng-init="role = 'key_holder'"></div>
            <div data-ng-if="place.haveAccess('SM')" class="col-lg-4 col-xs-6 user" data-ng-repeat="member in place.members.pendingKeyHolders.users" data-ng-include="'app/places/option/member.html'" data-ng-init="role = 'pending_key_holder'"></div>
          </div><!--/nst-teammates-->

          <div class="place-option-members _dib">
            <h5 class="title-option _di">Participants</h5>
            <div data-ng-if="place.haveAccess('AM')" class="_di _fr" data-ng-click="place_option.showAddModal('member')">
              <span class="nst-mood-simple _dib _vat">Invite members</span>
              <div class="add-icon _dib"></div>
            </div>
            <hr>
            <div data-ng-if="place.haveAccess('SM')" class="col-xs-6 col-lg-4" data-ng-repeat="member in place.members.knownGuests.users" data-ng-include="'app/places/option/member.html'" data-ng-init="role = 'known_guest'"></div>
            <div data-ng-if="place.haveAccess('SM')" class="col-xs-6 col-lg-4" data-ng-repeat="member in place.members.pendingKnownGuests.users" data-ng-include="'app/places/option/member.html'" data-ng-init="role = 'pending_known_guest'">
            </div>

          </div> <!-- /place-option-members-->
          <div class="restplace _df _fh"></div>
        </div>
      </div>
    </div>
    <div class="side">
      <div class="compose _bgwhite _df _fw">
      </div>
    </div>
  </div>
</div>


