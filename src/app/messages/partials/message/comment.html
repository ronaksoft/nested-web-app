<div class="_df _fw comments-load" ng-if="ctlComments.canShowOlderComments() || ctlComments.commentBoardNeedsRolling()">
  <a ng-if="ctlComments.canShowOlderComments()" href="javascript:void(0);" ng-click="ctlComments.showOlderComments(); _track('post card', 'show older comments');"><translate>View older comments...</translate></a>
  <a ng-if="ctlComments.commentBoardNeedsRolling()" href="javascript:void(0);" ng-click="ctlComments.limitCommentBoard(); _track('post card', 'roll up comments');"><translate>Roll up</translate></a>
</div>
<div ng-repeat="comment in ctlComments.comments | limitTo : ctlComments.commentBoardLimit * -1  | orderBy:'date'">
  <div class="post-card-comments _difh _fw _wrb">
    <div class="user-avatar-24" user-detail user="{{comment.sender}}">
      <img initial-avatar="{{::comment.sender.fullName}}" picture="{{comment.sender | avatar}}" data-width="24" data-height="24" data-radius="13" class="account-initials-24 _df" data-word-count="2" data-font-size="8"/>
    </div>
    <div class="text _df _fw">
      <p class="_fw" auto-dir="comment.body">
        <strong user-detail user="{{comment.sender}}">{{comment.sender.fullName}}:&nbsp;</strong>
        <span ng-if="!comment.removedById" ng-bind-html="comment.body | link"></span>
        <i ng-if="comment.removedById">
          <translate>removed by <a class="comment-removed-by" href user-detail user="{{comment.removedBy}}">{{::comment.removedBy.fullName}}</a></translate>
        </i>
      </p>
    </div>
    <span class="_df _fn">{{comment.date | passed}}</span>
    <div class="delete-comment" data-ng-if="ctlComments.allowToRemoveComment(comment)" ng-click="ctlComments.removeComment(comment);  _track('post card', 'remove comment');" >
      <svg class="_16svg">
        <use xlink:href="/assets/icons/nst-icn16.svg#bin"></use>
      </svg>
    </div>
  </div>
</div>
<div class="post-card-comment-input _df">
  <input type="text" nst-mention post-id="{{ctlComments.postId}}" data-ng-model="ctlComments.post.newComment"  auto-dir="ctlComments.post.newComment"
         class="_fw" placeholder="write your comment..." ng-keyup="ctlComments.sendComment($event)"
         ng-disabled="ctlComments.isSendingComment" max-length="1024"  translate-attrs="placeholder"/>
</div>
