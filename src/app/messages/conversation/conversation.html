<nst-navbar data-ng-model="navbar"
            place-id="{{ctlConversation.currentPlace.id}}"
            ready-to-show="ctlConversation.currentPlaceLoaded"
            ready-to-anime="true"></nst-navbar>
<div class="navbar-illu"></div>
<div class="nst-content _tr" id="content-wrapper">
  <section class="content nst-marginbtm-28">
    <scroll-change-handler reached-bottom="ctlConversation.loadMore"></scroll-change-handler>

    <div class="top-section">
      <button class="search-clear" type="button" ng-click="ctlConversation.backToConversation();" id="clear-button">Ã—</button>
      <div class="search-input-group">
        <input  type="text" nst-mention class="search-input" ng-model="ctlConversation.queryString"
               ng-keyup="ctlConversation.searchOnEnterKeyPressed($event, ctlConversation.queryString);" id="clear"/>
        <button type="button" class="search-button" ng-click="ctlConversation.search(ctlConversation.queryString);" id="button-search">
          <div class="icon-search-rotated-white"></div>
        </button>
      </div>
    </div>

    <div class="post-area">
      <post-card class="_fw" data-ng-repeat="msg in ctlConversation.messages track by msg.id" post="msg"
                 settings="ctlConversation.viewSetting" postinplace="ctlConversation.currentPlaceId"></post-card>
    </div>

    <div class="nst-margin-24 text-center"
         ng-if="ctlConversation.reachedTheEnd || ctlConversation.loadMessageError || ctlConversation.loading || ctlConversation.noResult">
      <p class="nst-mood-storm" ng-if="ctlConversation.noResult">
        No results found!
      </p>
      <p class="nst-mood-storm" ng-if="ctlConversation.reachedTheEnd">
        <translate>No more messages here!</translate>
      </p>
      <p class="nst-mood-storm" ng-if="ctlConversation.loadMessageError">
        An error has occurred. Please
        <a href="javascript:void(0);" class="nst-mood-cheerful" data-ng-click="ctlConversation.loadMore()">
          try again...
        </a>
      </p>
      <div class="_difh nst-mood-cheerful no-gutter" ng-if="ctlConversation.loading">
        <div class="col-xs-6">
          <div class="nst-loading nst-loading-size-16  _fr"></div>
        </div>
        <div class="col-xs-6 nst-marginbtm-4">Loading...</div>
      </div>
    </div>
    <div class="nst-marginbtm-32"></div>
  </section>
  <div class="content-plus"></div>
</div>
