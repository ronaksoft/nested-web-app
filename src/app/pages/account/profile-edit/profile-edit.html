<nst-navbar controls="ctlProfileEdit.controls" page="ctlApp.page" class="second-view"></nst-navbar>

<div class="nst-content second-view" id="content-wrapper"
     page-change="ctlProfileEdit.changeState($event, $toState, $toParams, $fromState, $fromParams, $cancel)">
  <section class="content _bgwhite">
    <div class="navbarillu"></div>
    <div class="panel-profile-setting _ma">
      <div class="_fw upload-photo-container">
        <div class="_ma upload-photo">
          <label for="logo">
            <img ng-if="ctlProfileEdit.model.picture.url" ng-src="{{ctlProfileEdit.model.picture.url}}">
            <img ng-if="!ctlProfileEdit.model.picture.url" initials="ctlProfileEdit.model.fullName"
                 data-width="size" data-height="size" data-radius="64" data-word-count="2"
                 data-font-size="16">
          </label>
          <input id="logo" type="file" name="logo" accept="image/*"
                 onchange="angular.element(this).scope().ctlProfileEdit.setImage(event)">
          <div class="probut">
            <div ng-if="ctlProfileEdit.model.picture.url" class="remove-photo-hover" data-ng-click="ctlProfileEdit.removeImage()" role="button"></div>
            <label for="logo" class="add-photo-hover"></label>
          </div>
        </div>
      </div>

      <div class="inner-panel _ma">
        <div class="_tac profile-name">{{ctlProfileEdit.model.fullName}}</div>
        <div class="_tac nst-mood-storm profile-id">@{{ctlProfileEdit.model.id}}</div>
        <div class="_tac nst-marginbtm-32 changePassLink" ng-init="changePassword = false" ng-show="!changePassword" hm-tap="changePassword = true">Change Password</div>
        <div ng-if="changePassword">
          <label for="old_pass">Old password</label>
          <div>
              <input page-change-element class="form-control" aria-invalid="true"
                     type="password" name="first_name" id="old_pass" placeholder="Type your old password !"
                     data-ng-model="ctlProfileEdit.model.oldPass"/>
          </div>
          <label for="new_pass">New Password</label>
          <div>
              <input page-change-element class="form-control" aria-invalid="true"
                     type="password" name="last_name" id="new_pass" placeholder="Type your new password !"
                     data-ng-model="ctlProfileEdit.model.newPass"/>
          </div>
          <label for="new_pass_conf">New Password confirm</label>
          <div>
              <input page-change-element class="form-control" aria-invalid="true"
                     type="password" name="last_name" id="new_pass_conf" placeholder="Type your new password again!"
                     data-ng-model="ctlProfileEdit.model.newPassConf"/>
          </div>
        </div>
        <div ng-if="!changePassword">
          <label for="first_name">First Name</label>
          <div>
            <input page-change-element class="form-control" aria-invalid="false"
                   type="text" name="first_name" id="first_name"
                   data-ng-model="ctlProfileEdit.model.firstName"/>
          </div>
          <label for="Last_name">Last Name</label>
          <div>
            <input page-change-element class="form-control" aria-invalid="false"
                   type="text" name="last_name" id="Last_name"
                   data-ng-model="ctlProfileEdit.model.lastName"/>
          </div>
          <label for="Mobile_number">Mobile phone</label>
          <div class="nst-marginbtm-24">
            <input class="_fw" id="Mobile_number" disabled name="phone_number" international-phone-number default-country="IR" country="ctlProfileEdit.model.country"
                   data-ng-model="ctlProfileEdit.model.phone"/>
          </div>
          <label>Gender</label>
          <select ng-model="ctlProfileEdit.model.gender" ng-options="gender.key as gender.title for gender in ctlProfileEdit.genders" class="form-control" aria-invalid="false" disabled="disabled" />
          <label>Date of Birth</label>
          <div class="nst-marginbtm-36">
            <input page-change-element class="select-birthday" rsmdatedropdowns ng-model="ctlProfileEdit.model.dateOfBirth"/>
          </div>
        </div>
        <div>
          <button class="butn-green _fw" data-ng-click="ctlProfileEdit.save()">Save & Exit</button>
        </div>

      </div>
      <div class="restplace _df _fh"></div>
    </div>
  </section>
</div>
